{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      loginError: false,\n      errorMessage: '',\n      usernameRules: [v => !!v || 'Username is required', v => v && v.length >= 3 || 'Username muss länger als 3 Zeichen sein'],\n      passwordRules: [v => !!v || 'Password is required', v => v && v.length >= 3 || 'Password muss länger als 3 Zeichen sein']\n    };\n  },\n  methods: {\n    goToRegister() {\n      this.$router.push(\"/register\");\n    },\n    async handleLogin() {\n      this.loginError = false;\n      this.errorMessage = '';\n      const isFormValid = await this.$refs.loginForm.validate();\n      if (!isFormValid) {\n        this.errorMessage = \"Bitte alle Felder korrekt ausfüllen!\";\n        this.loginError = true;\n        return;\n      }\n      try {\n        const response = await fetch(\"http://localhost:8080/api/login\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            username: this.username,\n            password: this.password\n          })\n        });\n        const result = await response.json();\n        if (!response.ok) {\n          throw new Error(result.message || \"Login fehlgeschlagen\");\n        }\n        alert(\"Login erfolgreich!\");\n        this.$router.push('/home');\n      } catch (error) {\n        this.errorMessage = error.message;\n        this.loginError = true;\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","username","password","loginError","errorMessage","usernameRules","v","length","passwordRules","methods","goToRegister","$router","push","handleLogin","isFormValid","$refs","loginForm","validate","response","fetch","method","headers","body","JSON","stringify","result","json","ok","Error","message","alert","error"],"sources":["/Users/tomholler/Desktop/IJ_PROJECTS/web-dev-app/frontend/src/components/LoginPage.vue"],"sourcesContent":["<template>\n  <v-container fill-height>\n    <v-row class=\"d-flex justify-center\" :style=\"{ marginTop: '10vh' }\">\n      <v-col xs=\"12\" sm=\"8\" md=\"6\" lg=\"4\" xl=\"3\" class=\"d-flex justify-center\">\n        <v-card elevation=\"22\" class=\"gif-background\" width=\"100%\" color=\"red\">\n          <v-form ref=\"loginForm\">\n            <v-col>\n              <v-text-field\n                  v-model=\"username\"\n                  label=\"Username\"\n                  :rules=\"usernameRules\"\n                  variant=\"solo-filled\"\n              ></v-text-field>\n            </v-col>\n\n            <v-col>\n              <v-text-field\n                  v-model=\"password\"\n                  label=\"Password\"\n                  :rules=\"passwordRules\"\n                  variant=\"solo-filled\"\n                  type=\"password\"\n              ></v-text-field>\n            </v-col>\n\n            <v-alert v-if=\"loginError\" type=\"error\" class=\"mx-4\">\n              {{ errorMessage }}\n            </v-alert>\n\n            <v-row>\n              <v-col>\n                <v-btn color=\"green\" @click=\"goToRegister\">Register</v-btn>\n              </v-col>\n              <v-col class=\"d-flex justify-end\">\n                <v-btn :disabled=\"!username || !password\" color=\"blue\" @click=\"handleLogin\">\n                  Login\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n\n\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      loginError: false,\n      errorMessage: '',\n      usernameRules: [\n        v => !!v || 'Username is required',\n        v => (v && v.length >= 3) || 'Username muss länger als 3 Zeichen sein'\n      ],\n      passwordRules: [\n        v => !!v || 'Password is required',\n        v => (v && v.length >= 3) || 'Password muss länger als 3 Zeichen sein'\n      ]\n    };\n  },\n  methods: {\n    goToRegister() {\n      this.$router.push(\"/register\");\n    },\n    async handleLogin() {\n      this.loginError = false;\n      this.errorMessage = '';\n\n      const isFormValid = await this.$refs.loginForm.validate();\n      if (!isFormValid) {\n        this.errorMessage = \"Bitte alle Felder korrekt ausfüllen!\";\n        this.loginError = true;\n        return;\n      }\n\n      try {\n        const response = await fetch(\"http://localhost:8080/api/login\", {\n          method: \"POST\",\n          headers: {\"Content-Type\": \"application/json\"},\n          body: JSON.stringify({\n            username: this.username,\n            password: this.password\n          })\n        });\n\n\n        const result = await response.json();\n\n        if (!response.ok) {\n          throw new Error(result.message || \"Login fehlgeschlagen\");\n        }\n\n\n        alert(\"Login erfolgreich!\");\n        this.$router.push('/home');\n      } catch (error) {\n        this.errorMessage = error.message;\n        this.loginError = true;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.gif-background {\n  background-image: url('https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExbTB0aGdqMmhvMTFyaHc0NzF0anNnYWQxbGl6a2UzNngyMDFkNWw4MSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/p4sfWzAfXm04LkNFsf/giphy.gif');\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  height: 100%;\n  padding: 20px;\n}\n</style>\n"],"mappings":";AAiDA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE,EAAE;MAChBC,aAAa,EAAE,CACbC,CAAA,IAAK,CAAC,CAACA,CAAA,IAAK,sBAAsB,EAClCA,CAAA,IAAMA,CAAA,IAAKA,CAAC,CAACC,MAAK,IAAK,CAAC,IAAK,yCAAwC,CACtE;MACDC,aAAa,EAAE,CACbF,CAAA,IAAK,CAAC,CAACA,CAAA,IAAK,sBAAsB,EAClCA,CAAA,IAAMA,CAAA,IAAKA,CAAC,CAACC,MAAK,IAAK,CAAC,IAAK,yCAAwC;IAEzE,CAAC;EACH,CAAC;EACDE,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,WAAW,CAAC;IAChC,CAAC;IACD,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI,CAACV,UAAS,GAAI,KAAK;MACvB,IAAI,CAACC,YAAW,GAAI,EAAE;MAEtB,MAAMU,WAAU,GAAI,MAAM,IAAI,CAACC,KAAK,CAACC,SAAS,CAACC,QAAQ,CAAC,CAAC;MACzD,IAAI,CAACH,WAAW,EAAE;QAChB,IAAI,CAACV,YAAW,GAAI,sCAAsC;QAC1D,IAAI,CAACD,UAAS,GAAI,IAAI;QACtB;MACF;MAEA,IAAI;QACF,MAAMe,QAAO,GAAI,MAAMC,KAAK,CAAC,iCAAiC,EAAE;UAC9DC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAC,cAAc,EAAE;UAAkB,CAAC;UAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBvB,QAAQ,EAAE,IAAI,CAACA,QAAQ;YACvBC,QAAQ,EAAE,IAAI,CAACA;UACjB,CAAC;QACH,CAAC,CAAC;QAGF,MAAMuB,MAAK,GAAI,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;QAEpC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAACH,MAAM,CAACI,OAAM,IAAK,sBAAsB,CAAC;QAC3D;QAGAC,KAAK,CAAC,oBAAoB,CAAC;QAC3B,IAAI,CAACnB,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;MAC5B,EAAE,OAAOmB,KAAK,EAAE;QACd,IAAI,CAAC3B,YAAW,GAAI2B,KAAK,CAACF,OAAO;QACjC,IAAI,CAAC1B,UAAS,GAAI,IAAI;MACxB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}